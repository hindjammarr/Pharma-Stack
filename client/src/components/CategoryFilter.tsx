import { Button } from "@/components/ui/button";\nimport { Badge } from "@/components/ui/badge";\nimport { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";\nimport { Filter, X } from "lucide-react";\nimport { useState } from "react";\n\ninterface Category {\n  id: string;\n  name: string;\n  count?: number;\n}\n\ninterface CategoryFilterProps {\n  categories: Category[];\n  selectedCategories: string[];\n  onCategoryToggle: (categoryId: string) => void;\n  onClearAll: () => void;\n}\n\nexport function CategoryFilter({\n  categories,\n  selectedCategories,\n  onCategoryToggle,\n  onClearAll\n}: CategoryFilterProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  \n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className="flex items-center gap-2">\n          <Filter className="h-5 w-5" />\n          CatÃ©gories\n          {selectedCategories.length > 0 && (\n            <Badge variant="secondary" className="ml-auto">\n              {selectedCategories.length}\n            </Badge>\n          )}\n        </CardTitle>\n      </CardHeader>\n      \n      <CardContent>\n        <div className="space-y-2">\n          {categories.map((category) => {\n            const isSelected = selectedCategories.includes(category.id);\n            \n            return (\n              <Button\n                key={category.id}\n                variant={isSelected ? \"default\" : \"ghost\"}\n                className="w-full justify-between h-auto p-3"\n                onClick={() => {\n                  console.log(`Toggling category: ${category.name}`);\n                  onCategoryToggle(category.id);\n                }}\n                data-testid={`button-category-${category.id}`}\n              >\n                <span className="text-left\">{category.name}</span>\n                {category.count !== undefined && (\n                  <Badge variant={isSelected ? \"secondary\" : \"outline\"}>\n                    {category.count}\n                  </Badge>\n                )}\n              </Button>\n            );\n          })}\n        </div>\n        \n        {selectedCategories.length > 0 && (\n          <Button \n            variant=\"outline\" \n            size=\"sm\" \n            className=\"w-full mt-4\"\n            onClick={() => {\n              console.log(\"Clearing all filters\");\n              onClearAll();\n            }}\n            data-testid=\"button-clear-filters\"\n          >\n            <X className=\"h-4 w-4 mr-2\" />\n            Effacer les filtres\n          </Button>\n        )}\n      </CardContent>\n    </Card>\n  );\n}