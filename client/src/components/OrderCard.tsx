import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";\nimport { Badge } from "@/components/ui/badge";\nimport { Button } from "@/components/ui/button";\nimport { CalendarDays, Package, Eye } from "lucide-react";\nimport { format } from "date-fns";\nimport { fr } from "date-fns/locale";\n\ninterface OrderProduct {\n  id: string;\n  name: string;\n  quantity: number;\n  price: number;\n}\n\ninterface OrderCardProps {\n  id: string;\n  createdAt: Date;\n  products: OrderProduct[];\n  total: number;\n  status: \"pending\" | \"confirmed\" | \"shipped\" | \"delivered\";\n  onViewDetails: (orderId: string) => void;\n}\n\nexport function OrderCard({\n  id,\n  createdAt,\n  products,\n  total,\n  status,\n  onViewDetails\n}: OrderCardProps) {\n  const getStatusVariant = (status: string) => {\n    switch (status) {\n      case \"pending\": return \"secondary\";\n      case \"confirmed\": return \"default\";\n      case \"shipped\": return \"default\";\n      case \"delivered\": return \"default\";\n      default: return \"secondary\";\n    }\n  };\n  \n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case \"pending\": return \"En attente\";\n      case \"confirmed\": return \"Confirmée\";\n      case \"shipped\": return \"Expédiée\";\n      case \"delivered\": return \"Livrée\";\n      default: return \"Inconnue\";\n    }\n  };\n  \n  const totalItems = products.reduce((sum, product) => sum + product.quantity, 0);\n  \n  return (\n    <Card className=\"hover-elevate transition-all duration-200\">\n      <CardHeader>\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <CardTitle className=\"text-lg\" data-testid={`text-order-id-${id}`}>\n              Commande #{id.slice(-8).toUpperCase()}\n            </CardTitle>\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\n              <CalendarDays className=\"h-4 w-4\" />\n              <span>{format(createdAt, \"d MMMM yyyy 'à' HH:mm\", { locale: fr })}</span>\n            </div>\n          </div>\n          \n          <Badge variant={getStatusVariant(status)} data-testid={`badge-status-${id}`}>\n            {getStatusLabel(status)}\n          </Badge>\n        </div>\n      </CardHeader>\n      \n      <CardContent>\n        <div className=\"space-y-4\">\n          {/* Products summary */}\n          <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n            <Package className=\"h-4 w-4\" />\n            <span>\n              {totalItems} article{totalItems > 1 ? 's' : ''} • \n              {products.length} produit{products.length > 1 ? 's' : ''}\n            </span>\n          </div>\n          \n          {/* Product list preview */}\n          <div className=\"space-y-2\">\n            {products.slice(0, 3).map((product) => (\n              <div key={product.id} className=\"flex items-center justify-between text-sm\">\n                <span className=\"truncate flex-1 mr-2\">{product.name}</span>\n                <span className=\"text-muted-foreground\">\n                  {product.quantity}x {product.price.toFixed(2)}€\n                </span>\n              </div>\n            ))}\n            \n            {products.length > 3 && (\n              <div className=\"text-sm text-muted-foreground\">\n                + {products.length - 3} autre{products.length - 3 > 1 ? 's' : ''} produit{products.length - 3 > 1 ? 's' : ''}\n              </div>\n            )}\n          </div>\n          \n          {/* Total and actions */}\n          <div className=\"flex items-center justify-between pt-4 border-t\">\n            <div className=\"text-lg font-semibold\" data-testid={`text-order-total-${id}`}>\n              Total: {total.toFixed(2)} €\n            </div>\n            \n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={() => {\n                console.log(`Viewing details for order ${id}`);\n                onViewDetails(id);\n              }}\n              data-testid={`button-view-order-${id}`}\n            >\n              <Eye className=\"h-4 w-4 mr-2\" />\n              Détails\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}